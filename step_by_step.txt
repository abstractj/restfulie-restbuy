rails new restbuy
cd restbuy
git init
rails g scaffold product name:string price:decimal
rails g model item product_id:integer quantity:integer order_id:integer
rails g scaffold order address:string state:string
rails g model payment value:decimal order_id:integer card_number:string card_holder:string state:string
gc "system models in place"


# jquery
curl -L http://code.jquery.com/jquery-1.4.2.min.js > public/javascripts/jquery.js
curl -L http://github.com/rails/jquery-ujs/raw/master/src/rails.js > public/javascripts/rails.js
curl -L http://github.com/cairesvs/formfy/raw/master/formfy.js > public/javascripts/formfy.js

# application.rb
descomenta a linha de javascript, adiciona formfy

config.action_controller.allow_forgery_protection    = false



rails g migration insert_sample_products
echo "class InsertSampleProducts < ActiveRecord::Migration
  def self.up
		Product.create :name => 'Apple macbook pro', :price => 1000
		Product.create :name => 'Rest Training (20h)', :price => 800
		Product.create :name => 'Modern Software architecture and Design (20h)', :price => 800
		Product.create :name => 'Ipad', :price => 600
		Product.create :name => 'Audi TT', :price => 40000
		Product.create :name => 'Flowers', :price => 20
  end

  def self.down
		Product.delete_all
  end
end" > db/migrate/*_insert_sample_products*

rake db:create db:migrate
gc "database created"

rails g controller System logout
rails g controller Payments create
rails g controller Admin index update_payment update_order


# tag SYSTEM





# PART 1: 15 minutes
Presenting a server:
- create
- pay
- admin: unpaid, refused, preparing
- admin: preparing -> delivering
- delivering -> delivered, failed to deliver
- cancel
- share payment between friends
- search

# PART 2: